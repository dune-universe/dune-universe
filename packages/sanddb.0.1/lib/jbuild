(jbuild_version 1)

(library
 ((name        sanddb)
  (public_name sanddb)
  (libraries (atdgen base lwt lwt.unix uuidm))))

(rule
  ((targets (record_t.ml record_t.mli))
  (deps (record.atd))
  (action (chdir ${ROOT} (run atdgen -t ${<})))))

(rule
  ((targets (record_j.ml record_j.mli))
  (deps (record.atd))
  (action (chdir ${ROOT} (run atdgen -j ${<})))))

(rule
  ((targets (record_b.ml record_b.mli))
  (deps (record.atd))
  (action (chdir ${ROOT} (run atdgen -b ${<})))))